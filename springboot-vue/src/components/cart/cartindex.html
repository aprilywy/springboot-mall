<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> 
<title>萌芽書屋購物車</title>
</head>
<body>
<script type="text/javascript" src="js/bootpag.min.js"></script>
<div class="container">
	<ul class="nav nav-pills justify-content-end">
		<li class="nav-item">
			<div class="p-2 text-dark" id="user">歡迎光臨</div>
		</li>
		<li class="nav-item">
			<button type="button" class="btn btn-outline-primary btn-sm" href="product">所有商品</button>
		</li>
		<!-- 註冊帳號開始Button to Open the Modal -->
		<li class="nav-item">
        <button type="button" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#myModalReg">會員註冊</button>
  <!-- The Modal -->
  <div class="modal fade" id="myModalReg">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h1 class="h3 mb-3 font-weight-normal">註冊會員表單</h1>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
             <form class="form-signup" onsubmit="return false;">                     
               <label for="userName" class="sr-only">User Name</label>
                <input type="text" id="userName" class="form-control" 
                                  placeholder="User Name" required autofocus><br/>
                <label for="Email" class="sr-only">Email</label>
                <input type="email" id="Email" name="Email" class="form-control" 
                             placeholder="Email" required><br/>
                <label for="Password" class="sr-only">Password</label>
                <input type="password" id="Password" class="form-control" 
                             placeholder="Password" required><br/>
                <label for="Password" class="sr-only">Confirm Password</label>
                <input type="password" id="ConfirmPassword" class="form-control" 
                             placeholder="ConfirmPassword" required><br/>
               <button class="btn  btn-primary btn-block" type="submit">註冊帳號</button>  
          </form>             
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
        
      </div>
    </div>
  </div>
  <p>
    </li>
    <!-- 註冊帳號結束Button to Open the Modal -->
    
    <!-- 登入帳號開始Button to Open the Modal -->
     <li class="nav-item"><!-- Button to Open the Modal -->
        <button type="button" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#myModalMem">會員登入</button>
  <!-- The Modal -->
  <div class="modal fade" id="myModalMem">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h1 class="h3 mb-3 font-weight-normal">登入輸入表單</h1>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
             <form class="form-signin" onsubmit="return false;">                     
               <label for="userName" class="sr-only">User Name</label>
                <input type="text" id="userName" class="form-control" 
                                  placeholder="User Name" required autofocus><br/>
                <label for="Password" class="sr-only">Password</label>
                <input type="password" id="Password" class="form-control" 
                             placeholder="Password" required><br/>
               <div class="checkbox">
                   <label>
                       <input type="checkbox" value="remember-me"> 記住我的登入
                  </label>
               </div>
               <button class="btn  btn-primary btn-block" type="submit">登入</button>  
          </form>             
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
        
      </div>
    </div>
  </div>
  <p>
    </li>
    <!-- 登入帳號結束Button to Open the Modal -->
  </ul>
</div>
	<h3 align="center">萌芽書屋購物車</h3>
	<table cellpadding="2" cellspacing="2" border="1" border-color="#FFFBDB" align="center">
		<tr>
			<th>Option</th>
			<th>Id</th>
			<th>Name</th>
			<th>Photo</th>
			<th>Price</th>
			<th>Quantity</th>
			<th>Sub Total</th>
		</tr>
		<c:set var="total" value="0"></c:set>
		<c:forEach var="item" items="${sessionScope.cart }">
			<c:set var="total" value="${total+item.product.price * item.quantity }"></c:set>
			<tr>
				<td align="center">
				<a href="${pageContext.request.contextPath }/cart/remove/${item.product.id }" 
						onclick="return confirm('確定要刪除${item.product.productName}?')">移除</a></td>
				<td>${item.product.id }</td>
				<td>${item.product.productName }</td>
				<td><img src="${pageContext.request.contextPath }/${item.product.photo }" 
						width="150"></td>
				<td>${item.product.price }</td>
				<td>${item.quantity }</td>
				<td>${item.product.price * item.quantity }</td>
			</tr>
		</c:forEach>
		<tr>
			<td colspan="6" align="right">總金額</td>
			<td>${total }</td>
		</tr>
	</table>
	<br><table cellpadding="2" cellspacing="2" border="0" align="center">
		<tr>
			<td><a href="${pageContext.request.contextPath }/product">繼續選購</a></td>
			<td></td>
			<td><a href="${pageContext.request.contextPath }/product">送出訂單</a></td>
</tr>

	</table>
</body>
</html>